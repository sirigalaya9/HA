global class ZCONNECT extends overcast.Realtime.ScenarioExtension implements overcast.Realtime.Queryable {
/* 
 * Generated by Overcast UTC 2024-03-12 10:27:43Z.
 * This class belongs to the ZCONNECT Real-time Integration Scenario.
 * Changes to this class may cause incorrect behavior and will be lost if the scenario is re-activated.
 */
     global class ZCONNECTException extends overcast.Realtime.ScenarioException {
         private List<String> messages;
        global override List<String> getMessages() {
            return messages;
        }
        public void setMessages(List<String> messages) {
            this.messages = messages;
        }

        private List<String> backendMessages;
        global override List<String> getBackendMessages() {
            return backendMessages;
        }
        public void setBackendMessages(List<String> backendMessages) {
            this.backendMessages = backendMessages;
        }

        public ZCONNECTException(List<object> messages, List<object> backendMessages) {
            super(string.join(messages, ';'));
            this.messages = new List<String>();
            for (object message : messages) {
                this.messages.add((String)message);
            }
            this.backendMessages = new List<String>();
            if (backendMessages != null) {
                for (object message : backendMessages) {
                    this.backendMessages.add((String)message);
                }
            }
        }
    }
    global ZCONNECT() {
        this.KNA1 = new list<ZCONNECT.KNA1>();
    }

    public class KNA1 {
        @AuraEnabled public String MANDT { get; set; }
        @AuraEnabled public String KUNNR { get; set; }
        @AuraEnabled public String LAND1 { get; set; }
        @AuraEnabled public String NAME1 { get; set; }
        @AuraEnabled public String NAME2 { get; set; }
        @AuraEnabled public String ORT01 { get; set; }
        @AuraEnabled public String PSTLZ { get; set; }
        @AuraEnabled public String REGIO { get; set; }
        @AuraEnabled public String SORTL { get; set; }
        @AuraEnabled public String STRAS { get; set; }
        @AuraEnabled public String TELF1 { get; set; }
        @AuraEnabled public String TELFX { get; set; }
        @AuraEnabled public String XCPDK { get; set; }
        @AuraEnabled public String ADRNR { get; set; }
        @AuraEnabled public String MCOD1 { get; set; }
        @AuraEnabled public String MCOD2 { get; set; }
        @AuraEnabled public String MCOD3 { get; set; }
        @AuraEnabled public String ANRED { get; set; }
        @AuraEnabled public String AUFSD { get; set; }
        @AuraEnabled public String BAHNE { get; set; }
        @AuraEnabled public String BAHNS { get; set; }
        @AuraEnabled public String BBBNR { get; set; }
        @AuraEnabled public String BBSNR { get; set; }
        @AuraEnabled public String BEGRU { get; set; }
        @AuraEnabled public String BRSCH { get; set; }
        @AuraEnabled public String BUBKZ { get; set; }
        @AuraEnabled public String DATLT { get; set; }
        @AuraEnabled public Date ERDAT { get; set; }
        @AuraEnabled public String ERNAM { get; set; }
        @AuraEnabled public String EXABL { get; set; }
        @AuraEnabled public String FAKSD { get; set; }
        @AuraEnabled public String FISKN { get; set; }
        @AuraEnabled public String KNAZK { get; set; }
        @AuraEnabled public String KNRZA { get; set; }
        @AuraEnabled public String KONZS { get; set; }
        @AuraEnabled public String KTOKD { get; set; }
        @AuraEnabled public String KUKLA { get; set; }
        @AuraEnabled public String LIFNR { get; set; }
        @AuraEnabled public String LIFSD { get; set; }
        @AuraEnabled public String LOCCO { get; set; }
        @AuraEnabled public String LOEVM { get; set; }
        @AuraEnabled public String NAME3 { get; set; }
        @AuraEnabled public String NAME4 { get; set; }
        @AuraEnabled public String NIELS { get; set; }
        @AuraEnabled public String ORT02 { get; set; }
        @AuraEnabled public String PFACH { get; set; }
        @AuraEnabled public String PSTL2 { get; set; }
        @AuraEnabled public String COUNC { get; set; }
        @AuraEnabled public String CITYC { get; set; }
        @AuraEnabled public String RPMKR { get; set; }
        @AuraEnabled public String SPERR { get; set; }
        @AuraEnabled public String SPRAS { get; set; }
        @AuraEnabled public String STCD1 { get; set; }
        @AuraEnabled public String STCD2 { get; set; }
        @AuraEnabled public String STKZA { get; set; }
        @AuraEnabled public String STKZU { get; set; }
        @AuraEnabled public String TELBX { get; set; }
        @AuraEnabled public String TELF2 { get; set; }
        @AuraEnabled public String TELTX { get; set; }
        @AuraEnabled public String TELX1 { get; set; }
        @AuraEnabled public String LZONE { get; set; }
        @AuraEnabled public String XZEMP { get; set; }
        @AuraEnabled public String VBUND { get; set; }
        @AuraEnabled public String STCEG { get; set; }
        @AuraEnabled public String DEAR1 { get; set; }
        @AuraEnabled public String DEAR2 { get; set; }
        @AuraEnabled public String DEAR3 { get; set; }
        @AuraEnabled public String DEAR4 { get; set; }
        @AuraEnabled public String DEAR5 { get; set; }
        @AuraEnabled public String GFORM { get; set; }
        @AuraEnabled public String BRAN1 { get; set; }
        @AuraEnabled public String BRAN2 { get; set; }
        @AuraEnabled public String BRAN3 { get; set; }
        @AuraEnabled public String BRAN4 { get; set; }
        @AuraEnabled public String BRAN5 { get; set; }
        @AuraEnabled public String EKONT { get; set; }
        @AuraEnabled public Decimal UMSAT { get; set; }
        @AuraEnabled public String UMJAH { get; set; }
        @AuraEnabled public String UWAER { get; set; }
        @AuraEnabled public String JMZAH { get; set; }
        @AuraEnabled public String JMJAH { get; set; }
        @AuraEnabled public String KATR1 { get; set; }
        @AuraEnabled public String KATR2 { get; set; }
        @AuraEnabled public String KATR3 { get; set; }
        @AuraEnabled public String KATR4 { get; set; }
        @AuraEnabled public String KATR5 { get; set; }
        @AuraEnabled public String KATR6 { get; set; }
        @AuraEnabled public String KATR7 { get; set; }
        @AuraEnabled public String KATR8 { get; set; }
        @AuraEnabled public String KATR9 { get; set; }
        @AuraEnabled public String KATR10 { get; set; }
        @AuraEnabled public String STKZN { get; set; }
        @AuraEnabled public Decimal UMSA1 { get; set; }
        @AuraEnabled public String TXJCD { get; set; }
        @AuraEnabled public String PERIV { get; set; }
        @AuraEnabled public String ABRVW { get; set; }
        @AuraEnabled public String INSPBYDEBI { get; set; }
        @AuraEnabled public String INSPATDEBI { get; set; }
        @AuraEnabled public String KTOCD { get; set; }
        @AuraEnabled public String PFORT { get; set; }
        @AuraEnabled public String WERKS { get; set; }
        @AuraEnabled public String DTAMS { get; set; }
        @AuraEnabled public String DTAWS { get; set; }
        @AuraEnabled public String DUEFL { get; set; }
        @AuraEnabled public String HZUOR { get; set; }
        @AuraEnabled public String SPERZ { get; set; }
        @AuraEnabled public String ETIKG { get; set; }
        @AuraEnabled public String CIVVE { get; set; }
        @AuraEnabled public String MILVE { get; set; }
        @AuraEnabled public String KDKG1 { get; set; }
        @AuraEnabled public String KDKG2 { get; set; }
        @AuraEnabled public String KDKG3 { get; set; }
        @AuraEnabled public String KDKG4 { get; set; }
        @AuraEnabled public String KDKG5 { get; set; }
        @AuraEnabled public String XKNZA { get; set; }
        @AuraEnabled public String FITYP { get; set; }
        @AuraEnabled public String STCDT { get; set; }
        @AuraEnabled public String STCD3 { get; set; }
        @AuraEnabled public String STCD4 { get; set; }
        @AuraEnabled public String STCD5 { get; set; }
        @AuraEnabled public String STCD6 { get; set; }
        @AuraEnabled public String XICMS { get; set; }
        @AuraEnabled public String XXIPI { get; set; }
        @AuraEnabled public String XSUBT { get; set; }
        @AuraEnabled public String CFOPC { get; set; }
        @AuraEnabled public String TXLW1 { get; set; }
        @AuraEnabled public String TXLW2 { get; set; }
        @AuraEnabled public String CCC01 { get; set; }
        @AuraEnabled public String CCC02 { get; set; }
        @AuraEnabled public String CCC03 { get; set; }
        @AuraEnabled public String CCC04 { get; set; }
        @AuraEnabled public String CASSD { get; set; }
        @AuraEnabled public String KNURL { get; set; }
        @AuraEnabled public String J_1KFREPRE { get; set; }
        @AuraEnabled public String J_1KFTBUS { get; set; }
        @AuraEnabled public String J_1KFTIND { get; set; }
        @AuraEnabled public String CONFS { get; set; }
        @AuraEnabled public Date UPDAT { get; set; }
        @AuraEnabled public String UPTIM { get; set; }
        @AuraEnabled public String NODEL { get; set; }
        @AuraEnabled public String DEAR6 { get; set; }
        @AuraEnabled public String CVP_XBLCK { get; set; }
        @AuraEnabled public String SUFRAMA { get; set; }
        @AuraEnabled public String RG { get; set; }
        @AuraEnabled public String EXP { get; set; }
        @AuraEnabled public String UF { get; set; }
        @AuraEnabled public Date RGDATE { get; set; }
        @AuraEnabled public String RIC { get; set; }
        @AuraEnabled public String RNE { get; set; }
        @AuraEnabled public Date RNEDATE { get; set; }
        @AuraEnabled public String CNAE { get; set; }
        @AuraEnabled public String LEGALNAT { get; set; }
        @AuraEnabled public String CRTN { get; set; }
        @AuraEnabled public String ICMSTAXPAY { get; set; }
        @AuraEnabled public String INDTYP { get; set; }
        @AuraEnabled public String TDT { get; set; }
        @AuraEnabled public String COMSIZE { get; set; }
        @AuraEnabled public String DECREGPC { get; set; }
        @AuraEnabled public String FISDUMMY { get; set; }
        @AuraEnabled public String x_FIS_ENTL_DAUER { get; set; }
        @AuraEnabled public Decimal x_VSO_R_PALHGT { get; set; }
        @AuraEnabled public String x_VSO_R_PAL_UL { get; set; }
        @AuraEnabled public String x_VSO_R_PK_MAT { get; set; }
        @AuraEnabled public String x_VSO_R_MATPAL { get; set; }
        @AuraEnabled public String x_VSO_R_I_NO_LYR { get; set; }
        @AuraEnabled public String x_VSO_R_ONE_MAT { get; set; }
        @AuraEnabled public String x_VSO_R_ONE_SORT { get; set; }
        @AuraEnabled public String x_VSO_R_ULD_SIDE { get; set; }
        @AuraEnabled public String x_VSO_R_LOAD_PREF { get; set; }
        @AuraEnabled public String x_VSO_R_DPOINT { get; set; }
        @AuraEnabled public String ALC { get; set; }
        @AuraEnabled public String PMT_OFFICE { get; set; }
        @AuraEnabled public String FEE_SCHEDULE { get; set; }
        @AuraEnabled public String DUNS { get; set; }
        @AuraEnabled public String DUNS4 { get; set; }
        @AuraEnabled public String SAM_UE_ID { get; set; }
        @AuraEnabled public String SAM_EFT_IND { get; set; }
        @AuraEnabled public String PSOFG { get; set; }
        @AuraEnabled public String PSOIS { get; set; }
        @AuraEnabled public String PSON1 { get; set; }
        @AuraEnabled public String PSON2 { get; set; }
        @AuraEnabled public String PSON3 { get; set; }
        @AuraEnabled public String PSOVN { get; set; }
        @AuraEnabled public String PSOTL { get; set; }
        @AuraEnabled public String PSOHS { get; set; }
        @AuraEnabled public String PSOST { get; set; }
        @AuraEnabled public String PSOO1 { get; set; }
        @AuraEnabled public String PSOO2 { get; set; }
        @AuraEnabled public String PSOO3 { get; set; }
        @AuraEnabled public String PSOO4 { get; set; }
        @AuraEnabled public String PSOO5 { get; set; }
        @AuraEnabled public String ZZHAA_ADD1 { get; set; }
        @AuraEnabled public String ZZHAA_ADD2 { get; set; }
        @AuraEnabled public String ZZHAA_ADD3 { get; set; }
        @AuraEnabled public String ZZHAA_ADD4 { get; set; }
        @AuraEnabled public String ZZHCN_PS_RESI { get; set; }
        @AuraEnabled public String ZZHCN_PS_SATU { get; set; }
        @AuraEnabled public String ZZHCN_PS_LIFT { get; set; }
        @AuraEnabled public String ZZHCN_PS_CALL { get; set; }
        @AuraEnabled public String ZZHCN_PS_INSI { get; set; }
        @AuraEnabled public String ZZHCN_PS_APPO { get; set; }
        @AuraEnabled public String ZZHAC_PS_CHAD { get; set; }
        @AuraEnabled public String ZZHWW_EASYALLOW { get; set; }
        @AuraEnabled public String ZZHWW_ENOALLREAS { get; set; }
        @AuraEnabled public Date ZZHWW_EALLUPDDT { get; set; }
        @AuraEnabled public String ZZHWW_EALLUPDID { get; set; }
        @AuraEnabled public String ZZHWW_PINNR { get; set; }
        @AuraEnabled public String ZZHWW_PINNR2 { get; set; }
        @AuraEnabled public Date ZZHWW_PINNRUPDDT { get; set; }
        @AuraEnabled public String ZZHWW_PINNRUPDID { get; set; }
        @AuraEnabled public String ZZHWW_EASYBLOCK { get; set; }
        @AuraEnabled public String ZZHWW_EASYBLREAS { get; set; }
        @AuraEnabled public Date ZZHWW_EASYBLUPDT { get; set; }
        @AuraEnabled public String ZZHWW_EASYBLUPID { get; set; }
        @AuraEnabled public String ZZHWW_ADMAPINNR { get; set; }
        @AuraEnabled public Date ZZHWW_ADMAPINUDT { get; set; }
        @AuraEnabled public String ZZHWW_ADMAPINUID { get; set; }
        @AuraEnabled public String ZZHWW_HAEFEMPLOY { get; set; }
        @AuraEnabled public String ZZHWW_MEMBER { get; set; }
        @AuraEnabled public Date ZZHWW_MEMBERDT { get; set; }
        @AuraEnabled public String ZZHWW_CARPTNO { get; set; }
        @AuraEnabled public String ZZHWW_WE_IS_UE { get; set; }
        @AuraEnabled public String ZZHWW_MEMBERMM { get; set; }
        @AuraEnabled public Date ZZHWW_MEMBERDTMM { get; set; }
        @AuraEnabled public String ZZHWW_ZUGFERD_TRANS { get; set; }
        @AuraEnabled public String ZZHWW_E_INVOICING_ADD_INFO { get; set; }
        @AuraEnabled public String ZZHWW_DELREASON { get; set; }
        @AuraEnabled public String ZZHWW_BILLPERIOD { get; set; }

        public KNA1() {}
    }

    @AuraEnabled public list<ZCONNECT.KNA1> KNA1 { get; set; }

    public string inputSetName { get; set; }

    public ZCONNECT runQuery(overcast.Query query) {
        overcast.Logger logger1 = createLogger();
        try {
            ZCONNECT response = this.runQuery(query, logger1, null);
            logger1.commitToDatabase();
            return response;
        }
        catch (Exception e) {
            logger1.addLog('ERROR', e.getTypeName() + ': ' + e.getMessage());
            logger1.setStatusCode(300);
            logger1.commitToDatabase();
            throw e;
        }
    }

    public ZCONNECT runQuery(overcast.Query query, overcast.Logger logger, string namedCredential) {
        return run(overcast.SynchronousHandler.OperationType.EpgwSelect, query, logger, namedCredential);
    }

    public string runQueryAsync(overcast.Query query, overcast.Logger logger, string namedCredential, Continuation con) {
        return runAsync(overcast.SynchronousHandler.OperationType.EpgwSelect, query, logger, namedCredential, con);
    }

    public static ZCONNECT getAsyncResponse(String requestLabel) {
        HttpResponse response = Continuation.getResponse(requestLabel);
        return ZCONNECT.deserialize(response.getBody());
    }

    private overcast.SynchronousHandler setup(overcast.SynchronousHandler.OperationType operation, overcast.Query query, overcast.Logger logger, string namedCredential) {
        overcast.SynchronousHandler sh = overcast.SynchronousHandler.CreateFromName('ZCONNECT');
        sh.InputSetName = this.inputSetName;
        sh.InputJson = this.serialize();
        sh.NamedCredential = namedCredential;
        if (logger != null) {
            logger.setInputSetName(String.isBlank(this.inputSetName) ? sh.CorrelationId : this.inputSetName);
            logger.setIdemId(sh.CorrelationId);
        }
        sh.Operation = operation;
        
        if (query != null) {
            sh.query = query;
        }

        sh.loadExtensions(this);

        return sh;
    }
    
    private ZCONNECT run(overcast.SynchronousHandler.OperationType operation, overcast.Query query, overcast.Logger logger, string namedCredential) {
        overcast.SynchronousHandler sh = setup(operation, query, logger, namedCredential);

        if (Test.isRunningTest()) {
            if (this.dynamicBody != null) {
                return this;
            }
            return ZCONNECT.deserialize(this.testResponse);
        }
        overcast.EpgwController.ExecuteScenarioSynchronously(sh, logger);

        return ZCONNECT.deserialize(sh.Response);
    }

    private string runAsync(overcast.SynchronousHandler.OperationType operation, overcast.Query query, overcast.Logger logger, string namedCredential, Continuation con) {
        overcast.SynchronousHandler sh = setup(operation, query, logger, namedCredential);

        sh.ContinuationWebRequest = new HttpRequest();

        overcast.EpgwController.ExecuteScenarioSynchronously(sh, logger);

        return con.addHttpRequest(sh.ContinuationWebRequest);
    }
        

    private static overcast.Logger createLogger() {
        return new overcast.Logger('ZCONNECT');
    }

    global override string getBackendMessage() {
        return this.backendMessage;
    }

    global string serialize() {
        if (dynamicBody != null) {
            return JSON.serialize(dynamicBody, true);
        }
        return JSON.serialize(this, true);
    }

        
    public class BodyContents extends overcast.Realtime.ContentsBody {
        public ZCONNECT output { get; set; }
    }

    private static ZCONNECT.BodyContents getBodyContents(string responseData) {
        if (string.isblank(responseData)) {
            throw new ZCONNECTException('Response null for ZCONNECT request.');
        }

        ZCONNECT.BodyContents contents = (ZCONNECT.BodyContents) JSON.deserialize(responseData, ZCONNECT.BodyContents.class);
        if (contents.error != null) {
            ZCONNECTException ex = new ZCONNECTException(string.join(contents.error, ';'));
            ex.setMessages(contents.error);
            ex.setBackendMessages(contents.backendErrorMessages == null ? new List<String>() : contents.backendErrorMessages);
            throw ex;
        }
        return contents;
    }

    public static ZCONNECT deserialize(string responsedata) {
        if (overcast.Globals.IsOCF) {
            ZCONNECT obj = new ZCONNECT();
            obj.loadAsyncResponse(responsedata);
            return obj;
        }
        ZCONNECT.BodyContents contents = getBodyContents(responsedata);
        contents.output.backendMessage = contents.backendMessage;

        return contents.output;
    }

    private static map<string, string> getOutputData(string responseData) {
        if (string.isblank(responsedata)) {
            throw new ZCONNECTException('Response null for ZCONNECT request.');
        }

        map<string, string> m = new map<string, string>();

        JSONParser jresponse = JSON.createParser(responsedata);
        jresponse.nextValue();

        boolean hasOutput = false;
        string[] errors = null;
        string[] backendErrorMessages = null;
        while (jresponse.nextValue() != JSONToken.END_OBJECT && jresponse.getCurrentToken() != null) {
            if (jresponse.getCurrentName() == 'output') {
                jresponse.skipChildren();
                hasOutput = true;
                continue;
            }
            if (jresponse.getCurrentName() == 'backendMessage') {
                m.put('backendMessage', (string)jresponse.readValueAs(string.class));
                continue;
            }
            if (jresponse.getCurrentName() == 'error') {
                errors = (string[])jresponse.readValueAs(list<string>.class);
                jresponse.skipChildren();
                continue;
            }
            if (jresponse.getCurrentName() == 'backendErrorMessages') {
                backendErrorMessages = (string[])jresponse.readValueAs(list<string>.class);
                jresponse.skipChildren();
                continue;
            }
        }
        if (errors != null) {
            ZCONNECTException ex = new ZCONNECTException(string.join(errors, ';'));
            ex.setMessages(errors);
            ex.setBackendMessages(backendErrorMessages == null ? new List<String>() : backendErrorMessages);
            throw ex;
        }
        if (!hasOutput) {
            throw new ZCONNECTException('Malformed response for ZCONNECT request.');
        }
        integer start = responsedata.indexOf(':') + 1;
        integer lastIndex = m.get('backendMessage') == null
            ? responsedata.length() - 2
            : responsedata.lastIndexOf('backendMessage');
        integer finish = responsedata.lastIndexOf('}', lastIndex) + 1;
        m.put('output', responseData.substring(start, finish));
        return m;
    }


    public transient string testResponse;
    private transient string outputData;
    private transient string backendMessage;

    private transient map<string, overcast.TypeInfo> metadata;
    private transient map<string, object> dynamicBody;

    global void loadAsyncResponse(string responseBody) {
        if (overcast.Globals.IsOCF) {
            if (string.isblank(responseBody)) {
                throw new ZCONNECTException('Response null for ZCONNECT request.');
            }
            map<string, object> responseObj = (map<string, object>)JSON.deserializeUntyped(responseBody);
            if (responseObj.containsKey('error')) {
                throw new ZCONNECTException((List<object>)responseObj.get('error'), (List<object>)responseObj.get('backendErrorMessages'));
            }
            backendMessage = (string)responseObj.get('backendMessage');
            dynamicBody = (map<string, object>)responseObj.get('output');
            return;
        }

        map<string, string> m = getOutputData(responseBody);
        outputData = m.get('output');
        backendMessage = m.get('backendMessage');
        
        if (outputData != null) {
            dynamicBody = (map<string, object>)JSON.deserializeUntyped(outputData);
        }
    }

    global string getTopTypeName() {
        return 'KNA1';
    }

    global void set(string typeName, object records) {
        if (typeName == '@testResponse') {
            dynamicBody = (map<string, object>)records;
            return;
        }
        if (dynamicBody == null) {
            dynamicBody = new map<string, object>();
        }
        
        dynamicBody.put(typeName, records);
    }
    
    global object get(string typeName) {
        if (dynamicBody == null && outputData != null) {
            dynamicBody = (map<string, object>)JSON.deserializeUntyped(outputData);
        }
        if (dynamicBody == null) { 
            return null;
        }
        return dynamicBody.get(typeName);
    }

    global map<string, overcast.TypeInfo> getMetadata() {
        if (metadata == null) {
            metadata = new Map<String, overcast.TypeInfo>();
            metadata.putAll(ZCONNECTMeta0.metadata);
        }
        return metadata;
    }

}